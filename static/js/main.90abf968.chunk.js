(this["webpackJsonptodo-app"]=this["webpackJsonptodo-app"]||[]).push([[0],{118:function(e,t,n){"use strict";n.r(t);var c=n(0),s=n.n(c),i=n(29),a=n.n(i),o=(n(86),n(87),n(12)),r=n(151),j=n(152),l=n(14),u=n(68),d=n.n(u),b=n(2),O=Object(c.createContext)();function h(e){var t=e.children,n=Object(c.useState)(null),s=Object(o.a)(n,2),i=s[0],a=s[1];Object(c.useEffect)((function(){var e=JSON.parse(localStorage.getItem("sesion"));console.log("Sesion recuperada: ",e),a(e)}),[]);return Object(b.jsx)(O.Provider,{value:{sesion:i,setSesion:function(e){a(e),localStorage.sesion=JSON.stringify(e)}},children:t})}function p(){var e=Object(c.useContext)(O);Object(c.useEffect)((function(){null!=e.sesion&&t.push("/app")}),[e]);var t=Object(l.f)(),n=Object(c.useState)(),s=Object(o.a)(n,2),i=s[0],a=s[1],u=Object(c.useState)(),h=Object(o.a)(u,2),p=h[0],f=h[1],x=Object(c.useState)(!1),v=Object(o.a)(x,2),g=v[0],m=v[1];return Object(b.jsx)("div",{class:"login-container",children:Object(b.jsxs)("form",{id:"formulario",children:[Object(b.jsx)("h2",{children:"Iniciar sesi\xf3n"}),1==g&&Object(b.jsx)("p",{class:"error",children:"Error: no se pudo encontrar este usurio, verifique sus datos"}),Object(b.jsx)(r.a,{label:"Correo o usuario",variant:"filled",onChange:function(e){return a(e.target.value)},value:i}),Object(b.jsx)(r.a,{label:"Contrase\xf1a",variant:"filled",type:"password",onChange:function(e){return f(e.target.value)},value:p}),Object(b.jsxs)("div",{children:[Object(b.jsx)(j.a,{variant:"contained",onClick:function(){return function(){console.log("Iniciando sesion");var n={usuario:i,password:p};n=JSON.stringify(n),d.a.post("https://prueba-unach.000webhostapp.com/api/usuario/consultar_user.php",n).then((function(n){console.log(n),0!=n.data?(e.setSesion(n.data),t.push("/app"),m(!1)):m(!0)}))}()},children:"Iniciar sesi\xf3n"}),Object(b.jsx)(j.a,{children:"Registrarse"})]})]})})}var f=n(155);function x(e){var t=e.titulo,n=e.descripcion,s=e.fecha;return Object(c.useEffect)((function(){return console.log("Se esta montanto el componente"),function(){console.log("SE ESTA DESMONTANDO EL COMPOENTEEEEEE!")}})),Object(b.jsxs)(f.a,{children:[Object(b.jsx)("h3",{children:t}),Object(b.jsx)("span",{children:s}),Object(b.jsx)("p",{children:n})]})}var v=n(42),g=n.n(v);n(117);function m(){var e=Object(c.useContext)(O),t=Object(l.f)();Object(c.useEffect)((function(){null==e.sesion&&t.push("/login")}),[e]);return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("header",{class:"menu",children:[Object(b.jsx)("h2",{children:"TODO app"}),Object(b.jsx)("span",{children:g()().format("LLLL")}),Object(b.jsxs)("div",{children:[Object(b.jsx)("b",{children:null!=e.sesion&&e.sesion.usuario}),Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),Object(b.jsx)(j.a,{onClick:function(){e.setSesion(null)},variant:"contained",children:"Cerrar sesion"})]})]}),Object(b.jsxs)("div",{class:"todo-content",children:[Object(b.jsxs)("div",{class:"todo-list",children:[Object(b.jsx)(x,{titulo:"Hola mundo 8M",descripcion:"Aqui estoy escribiendo la descripcion de mis tareas",fecha:"16 de noviembre de 2021"}),Object(b.jsx)(x,{descripcion:"Aqui esta la tarjeta 2",titulo:"Tarjeta 2",fecha:"20 de noviembre del 2021"}),Object(b.jsx)(x,{descripcion:"Aqui esta la tarjeta 3, feliz navidad",titulo:"Tarjeta 3",fecha:"25 de diciembre del 2021"}),Object(b.jsx)(x,{descripcion:"Aqui esta la tarjeta 4000, feliz a\xf1o nuevo",titulo:"Tarjeta 4000",fecha:"31 de diciembre del 2021"})]}),Object(b.jsx)("div",{class:"todo-list"})]})]})}g.a.lang("es");var S=n(72);function E(){var e=Object(c.useContext)(O),t=Object(l.f)();return Object(c.useEffect)((function(){null==e.sesion?t.push("/login"):t.push("/app")}),[e]),Object(b.jsxs)("div",{children:[Object(b.jsx)("h3",{children:"Redireccionando..."}),"hola mundo"]})}function C(){return Object(b.jsx)(S.a,{children:Object(b.jsxs)(l.c,{children:[Object(b.jsx)(l.a,{exact:!0,path:"/",component:E}),Object(b.jsx)(l.a,{exact:!0,path:"/login",component:p}),Object(b.jsx)(l.a,{exact:!0,path:"/app",component:m})]})})}var T=function(){return Object(b.jsx)(h,{children:Object(b.jsx)("div",{className:"App",children:Object(b.jsx)(C,{})})})},A=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,156)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),c(e),s(e),i(e),a(e)}))};a.a.render(Object(b.jsx)(s.a.StrictMode,{children:Object(b.jsx)(T,{})}),document.getElementById("root")),A()},86:function(e,t,n){},87:function(e,t,n){}},[[118,1,2]]]);
//# sourceMappingURL=main.90abf968.chunk.js.map